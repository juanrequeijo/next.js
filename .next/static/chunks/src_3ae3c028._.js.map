{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = \"Avatar\"\n\nconst AvatarImage = React.forwardRef<\n  HTMLImageElement,\n  React.ImgHTMLAttributes<HTMLImageElement>\n>(({ className, alt = \"\", ...props }, ref) => (\n  // eslint-disable-next-line @next/next/no-img-element\n  <img\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    alt={alt}\n    {...props}\n  />\n))\nAvatarImage.displayName = \"AvatarImage\"\n\nconst AvatarFallback = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = \"AvatarFallback\"\n\nexport { Avatar, AvatarImage, AvatarFallback }"],"names":[],"mappings":";;;;;;AAAA;AAEA;;;;AAEA,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;;AAGb,OAAO,WAAW,GAAG;AAErB,MAAM,4BAAc,6JAAA,CAAA,aAAgB,OAGlC,QAAoC;QAAnC,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,GAAG,OAAO;WAClC,qDAAqD;kBACrD,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC7C,KAAK;QACJ,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,+BAAiB,6JAAA,CAAA,aAAgB,OAGrC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;;AAGb,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/ui/scroll-area.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, children, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <div className=\"h-full w-full rounded-[inherit] overflow-y-auto\">\n      {children}\n    </div>\n  </div>\n))\nScrollArea.displayName = \"ScrollArea\"\n\nexport { ScrollArea }"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,2BAAa,6JAAA,CAAA,aAAgB,MAGjC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAU;sBACZ;;;;;;;;;;;;;AAIP,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/lib/utils/chatUtils.ts"],"sourcesContent":["export const getInitial = (name: string) => {\n    return name.charAt(0).toUpperCase();\n};"],"names":[],"mappings":";;;AAAO,MAAM,aAAa,CAAC;IACvB,OAAO,KAAK,MAAM,CAAC,GAAG,WAAW;AACrC","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAIA,MAAM,sBAAQ,6JAAA,CAAA,aAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/chat/chat-list.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Contact } from '@/types';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { cn } from '@/lib/utils';\nimport { getInitial } from '@/lib/utils/chatUtils';\nimport { Input } from '@/components/ui/input';\n\ninterface ChatListProps {\n  contacts: Contact[];\n  selectedContactId: string | null;\n  onSelectContact: (contactId: string) => void;\n  userId?: string;\n}\n\nexport default function ChatList({ contacts, selectedContactId, onSelectContact, userId = '0912587586357790921' }: ChatListProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const formatTime = (timestamp: Date) => {\n    return timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const filteredContacts = contacts.filter(contact =>\n    contact.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"w-80 h-full flex-shrink-0 bg-card border-r flex flex-col\">\n      <div className=\"p-6 border-b space-y-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold mb-2\">Chats</h1>\n          <p className=\"text-sm text-muted-foreground\">Your User ID: {userId}</p>\n        </div>\n        <div className=\"relative\">\n          <Input\n            type=\"text\"\n            placeholder=\"Search conversations...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-9\"\n          />\n        </div>\n      </div>\n\n      <ScrollArea className=\"flex-1\">\n        {filteredContacts.map((contact) => (\n          <div\n            key={contact.id}\n            className={cn(\n              \"px-6 py-4 hover:bg-accent cursor-pointer transition-colors\",\n              selectedContactId === contact.id && \"bg-accent\"\n            )}\n            onClick={() => onSelectContact(contact.id)}\n          >\n            <div className=\"flex items-center\">\n              <Avatar className=\"h-12 w-12\">\n                <AvatarFallback className=\"text-white font-semibold bg-blue-500\">\n                  {getInitial(contact.name)}\n                </AvatarFallback>\n              </Avatar>\n\n              <div className=\"ml-4 flex-1\">\n                <div className=\"flex justify-between items-baseline\">\n                  <h3 className=\"font-semibold text-lg\">{contact.name}</h3>\n                  <span className=\"text-sm text-muted-foreground\">\n                    {contact.lastMessageTimestamp && formatTime(contact.lastMessageTimestamp)}\n                  </span>\n                </div>\n                <p className=\"text-muted-foreground mt-1\">{contact.lastMessage}</p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </ScrollArea>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAiBe,SAAS,SAAS,KAA+F;QAA/F,EAAE,QAAQ,EAAE,iBAAiB,EAAE,eAAe,EAAE,SAAS,qBAAqB,EAAiB,GAA/F;;IAC/B,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,aAAa,CAAC;QAClB,OAAO,UAAU,kBAAkB,CAAC,EAAE,EAAE;YAAE,MAAM;YAAW,QAAQ;QAAU;IAC/E;IAEA,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,UACvC,QAAQ,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG5D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAA0B;;;;;;0CACxC,6LAAC;gCAAE,WAAU;;oCAAgC;oCAAe;;;;;;;;;;;;;kCAE9D,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,oIAAA,CAAA,QAAK;4BACJ,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,WAAU;;;;;;;;;;;;;;;;;0BAKhB,6LAAC,6IAAA,CAAA,aAAU;gBAAC,WAAU;0BACnB,iBAAiB,GAAG,CAAC,CAAC,wBACrB,6LAAC;wBAEC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8DACA,sBAAsB,QAAQ,EAAE,IAAI;wBAEtC,SAAS,IAAM,gBAAgB,QAAQ,EAAE;kCAEzC,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,qIAAA,CAAA,SAAM;oCAAC,WAAU;8CAChB,cAAA,6LAAC,qIAAA,CAAA,iBAAc;wCAAC,WAAU;kDACvB,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAE,QAAQ,IAAI;;;;;;;;;;;8CAI5B,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DAAyB,QAAQ,IAAI;;;;;;8DACnD,6LAAC;oDAAK,WAAU;8DACb,QAAQ,oBAAoB,IAAI,WAAW,QAAQ,oBAAoB;;;;;;;;;;;;sDAG5E,6LAAC;4CAAE,WAAU;sDAA8B,QAAQ,WAAW;;;;;;;;;;;;;;;;;;uBArB7D,QAAQ,EAAE;;;;;;;;;;;;;;;;AA6B3B;GA5DwB;KAAA","debugId":null}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? \"span\" : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,SAAS;IAChC,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/chat/message.tsx"],"sourcesContent":["'use client';\n\nimport { Message as MessageType } from '@/types';\nimport { cn } from '@/lib/utils';\n\ninterface MessageProps {\n  message: MessageType;\n  isOwnMessage: boolean;\n}\n\nexport default function Message({ message, isOwnMessage }: MessageProps) {\n  const formatTime = (timestamp: Date) => {\n    return timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  return (\n    <div className={cn(\"flex mb-3\", isOwnMessage ? \"justify-end\" : \"justify-start\")}>\n      <div className={cn(\n        \"flex items-end space-x-2 max-w-[70%]\",\n        isOwnMessage && \"flex-row-reverse space-x-reverse\"\n      )}>\n        <div>\n          <div\n            className={cn(\n              \"px-4 py-2 rounded-2xl max-w-xs lg:max-w-md\",\n              isOwnMessage\n                ? \"bg-primary text-primary-foreground rounded-br-sm shadow-sm\"\n                : \"bg-secondary text-secondary-foreground rounded-bl-sm\"\n            )}\n          >\n            <p className=\"text-sm leading-relaxed\">{message.text}</p>\n          </div>\n          <p className={cn(\n            \"text-xs mt-1 text-muted-foreground\",\n            isOwnMessage ? \"text-right\" : \"text-left\"\n          )}>\n            {formatTime(message.timestamp)}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAUe,SAAS,QAAQ,KAAuC;QAAvC,EAAE,OAAO,EAAE,YAAY,EAAgB,GAAvC;IAC9B,MAAM,aAAa,CAAC;QAClB,OAAO,UAAU,kBAAkB,CAAC,EAAE,EAAE;YAAE,MAAM;YAAW,QAAQ;QAAU;IAC/E;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa,eAAe,gBAAgB;kBAC7D,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACf,wCACA,gBAAgB;sBAEhB,cAAA,6LAAC;;kCACC,6LAAC;wBACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8CACA,eACI,+DACA;kCAGN,cAAA,6LAAC;4BAAE,WAAU;sCAA2B,QAAQ,IAAI;;;;;;;;;;;kCAEtD,6LAAC;wBAAE,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACb,sCACA,eAAe,eAAe;kCAE7B,WAAW,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;AAMzC;KAhCwB","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/chat/chat-window.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { Contact, Message as MessageType } from '@/types';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Send } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport Message from './message';\nimport { getInitial } from '@/lib/utils/chatUtils';\n\ninterface ChatWindowProps {\n  contact: Contact | null;\n  messages: MessageType[];\n  onSendMessage: (text: string) => void;\n  loading?: boolean;\n}\n\nexport default function ChatWindow({ contact, messages, onSendMessage, loading }: ChatWindowProps) {\n  const [newMessage, setNewMessage] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newMessage.trim()) {\n      onSendMessage(newMessage);\n      setNewMessage('');\n    }\n  };\n\n  if (!contact) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-normal text-muted-foreground\">Select a conversation to start chatting!</h2>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 flex flex-col min-w-0 bg-card\">\n      <div className=\"h-16 px-6 flex items-center border-b\">\n        <Avatar className=\"h-10 w-10\">\n          <AvatarFallback className=\"text-white font-semibold bg-blue-500\">\n            {getInitial(contact.name)}\n          </AvatarFallback>\n        </Avatar>\n        <div className=\"ml-3\">\n          <h2 className=\"font-medium\">{contact.name}</h2>\n        </div>\n      </div>\n\n      <ScrollArea className=\"flex-1 bg-background\">\n        <div className=\"px-6 py-4\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-muted border-t-primary\"></div>\n            </div>\n          ) : (\n            <>\n              {messages.map((message) => (\n                <Message\n                  key={message.id}\n                  message={message}\n                  isOwnMessage={message.sender === 'You'}\n                />\n              ))}\n              <div ref={messagesEndRef} />\n            </>\n          )}\n        </div>\n      </ScrollArea>\n\n      <form onSubmit={handleSubmit} className=\"px-6 py-4 border-t\">\n        <div className=\"flex items-center space-x-3\">\n          <Input\n            type=\"text\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            placeholder=\"Type a message\"\n            className=\"flex-1 bg-secondary\"\n          />\n          <Button\n            type=\"submit\"\n            disabled={!newMessage.trim()}\n            size=\"icon\"\n            className={cn(\n              \"rounded-full\",\n              !newMessage.trim() && \"opacity-50 cursor-not-allowed\"\n            )}\n          >\n            <Send className=\"h-5 w-5\" />\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;AAoBe,SAAS,WAAW,KAA8D;QAA9D,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,OAAO,EAAmB,GAA9D;;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE9C,MAAM,iBAAiB;YACrB;SAAA,0BAAA,eAAe,OAAO,cAAtB,8CAAA,wBAAwB,cAAc,CAAC;YAAE,UAAU;QAAS;IAC9D;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR;QACF;+BAAG;QAAC;KAAS;IAEb,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,WAAW,IAAI,IAAI;YACrB,cAAc;YACd,cAAc;QAChB;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAA6C;;;;;;;;;;;;;;;;IAInE;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qIAAA,CAAA,SAAM;wBAAC,WAAU;kCAChB,cAAA,6LAAC,qIAAA,CAAA,iBAAc;4BAAC,WAAU;sCACvB,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAE,QAAQ,IAAI;;;;;;;;;;;kCAG5B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAG,WAAU;sCAAe,QAAQ,IAAI;;;;;;;;;;;;;;;;;0BAI7C,6LAAC,6IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;8BACZ,wBACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;;;;;;;;;6CAGjB;;4BACG,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,wIAAA,CAAA,UAAO;oCAEN,SAAS;oCACT,cAAc,QAAQ,MAAM,KAAK;mCAF5B,QAAQ,EAAE;;;;;0CAKnB,6LAAC;gCAAI,KAAK;;;;;;;;;;;;;;;;;;0BAMlB,6LAAC;gBAAK,UAAU;gBAAc,WAAU;0BACtC,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,oIAAA,CAAA,QAAK;4BACJ,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,aAAY;4BACZ,WAAU;;;;;;sCAEZ,6LAAC,qIAAA,CAAA,SAAM;4BACL,MAAK;4BACL,UAAU,CAAC,WAAW,IAAI;4BAC1B,MAAK;4BACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gBACA,CAAC,WAAW,IAAI,MAAM;sCAGxB,cAAA,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;GAxFwB;KAAA","debugId":null}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/features/chat/actions.ts"],"sourcesContent":["'use server';\n\nimport { getUserConversations, getMessagesForConversation, sendMessage } from './server';\n\nexport async function fetchUserConversations(userId: number) {\n  return await getUserConversations(userId);\n}\n\nexport async function fetchConversationMessages(conversationId: number) {\n  return await getMessagesForConversation(conversationId);\n}\n\nexport async function sendMessageAction(senderId: number, conversationId: number, content: string) {\n  return await sendMessage(senderId, conversationId, content);\n}"],"names":[],"mappings":";;;;;;IAYsB,oBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 768, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/features/chat/actions.ts"],"sourcesContent":["'use server';\n\nimport { getUserConversations, getMessagesForConversation, sendMessage } from './server';\n\nexport async function fetchUserConversations(userId: number) {\n  return await getUserConversations(userId);\n}\n\nexport async function fetchConversationMessages(conversationId: number) {\n  return await getMessagesForConversation(conversationId);\n}\n\nexport async function sendMessageAction(senderId: number, conversationId: number, content: string) {\n  return await sendMessage(senderId, conversationId, content);\n}"],"names":[],"mappings":";;;;;;IAQsB,4BAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juan_/Downloads/full-stack-process/full-stack-process/src/components/chat/chat-container.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport ChatList from '@/components/chat/chat-list';\nimport ChatWindow from '@/components/chat/chat-window';\nimport { Contact, Message } from '@/types';\nimport { sendMessageAction, fetchConversationMessages } from '../../features/chat/actions';\n\ninterface ChatContainerProps {\n  initialConversations: Array<{\n    id: string;\n    title: string;\n    lastMessage: {\n      content: string | null;\n      createdAt: Date | null;\n      senderId: number | null;\n      authorName: string | null;\n    };\n  }>;\n  userId: number;\n}\n\nexport default function ChatContainer({ initialConversations, userId }: ChatContainerProps) {\n  const [selectedContactId, setSelectedContactId] = useState<string | null>(null);\n  const [messages, setMessages] = useState<Record<string, Message[]>>({});\n  const [loadingMessages, setLoadingMessages] = useState(false);\n\n  const contacts: Contact[] = initialConversations.map(conv => ({\n    id: conv.id,\n    name: conv.title,\n    lastMessage: conv.lastMessage.content || '',\n    lastMessageTimestamp: conv.lastMessage.createdAt || undefined,\n  }));\n\n  const handleSelectContact = async (contactId: string) => {\n    setSelectedContactId(contactId);\n\n    if (!messages[contactId]) {\n      setLoadingMessages(true);\n      try {\n        const conversationMessages = await fetchConversationMessages(parseInt(contactId));\n        setMessages(prev => ({\n          ...prev,\n          [contactId]: conversationMessages.map(msg => ({\n            id: msg.id.toString(),\n            sender: msg.senderId === userId ? 'You' : 'Other',\n            text: msg.content,\n            timestamp: new Date(msg.createdAt),\n          })),\n        }));\n      } catch (error) {\n        console.error('Error fetching messages:', error);\n      } finally {\n        setLoadingMessages(false);\n      }\n    }\n  };\n\n  const handleSendMessage = async (text: string) => {\n    if (!selectedContactId) return;\n\n    const tempMessage: Message = {\n      id: `temp-${Date.now()}`,\n      sender: 'You',\n      text,\n      timestamp: new Date(),\n    };\n\n    setMessages(prev => ({\n      ...prev,\n      [selectedContactId]: [...(prev[selectedContactId] || []), tempMessage],\n    }));\n\n    try {\n      const newMessage = await sendMessageAction(userId, parseInt(selectedContactId), text);\n\n      setMessages(prev => ({\n        ...prev,\n        [selectedContactId]: prev[selectedContactId].map(msg =>\n          msg.id === tempMessage.id\n            ? {\n              ...msg,\n              id: newMessage.id.toString(),\n            }\n            : msg\n        ),\n      }));\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => ({\n        ...prev,\n        [selectedContactId]: prev[selectedContactId].filter(msg => msg.id !== tempMessage.id),\n      }));\n    }\n  };\n\n  const selectedContact = contacts.find(c => c.id === selectedContactId) || null;\n  const currentMessages = selectedContactId ? (messages[selectedContactId] || []) : [];\n\n  return (\n    <div className=\"flex flex-row h-screen w-screen\">\n      <ChatList\n        contacts={contacts}\n        selectedContactId={selectedContactId}\n        onSelectContact={handleSelectContact}\n      />\n      <ChatWindow\n        contact={selectedContact}\n        messages={currentMessages}\n        onSendMessage={handleSendMessage}\n        loading={loadingMessages}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}